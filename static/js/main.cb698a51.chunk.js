(this["webpackJsonpsergey-memorial"]=this["webpackJsonpsergey-memorial"]||[]).push([[0],{171:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/molitva.ccb07052.mp3"},179:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(13),c=a.n(i),s=a(229),l=a(230),u=a(21),b=a(127),d=a(110),h=a.n(d)()({unit:"em",values:{phone:40.63,tabPort:56.25,tabLand:75,deskWide:125}}),j=a(12),m=a.p+"static/media/background-img.46728865.jpg",O=(n={fontSize:"62.5%"},Object(j.a)(n,h.up(h.values.deskWide),{fontSize:"75%"}),Object(j.a)(n,h.down(h.values.tabLand),{fontSize:"56.25%"}),Object(j.a)(n,h.down(h.values.tabPort),{fontSize:"50%"}),Object(j.a)(n,h.down(h.values.phone),{fontSize:"45%"}),n),p={MuiSvgIcon:{fontSizeLarge:{fontSize:"3.4rem"},fontSizeSmall:{fontSize:"2rem"}},MuiCssBaseline:{"@global":{html:Object(u.a)(Object(u.a)({fontFamily:"Montserrat, sans-serif"},O),{},{minHeight:"100vh"}),body:{fontSize:"1.6rem",minHeight:"100vh",backgroundImage:"url('".concat(m,"')"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat","& > div":{height:"inherit"}},"*":{fontFamily:"inherit"}}},MuiButton:{root:{fontSize:"1.4rem"},sizeLarge:{fontSize:"1.8rem"},sizeSmall:{fontSize:"1rem"}},MuiTab:{root:{fontSize:"1.3rem"}}},f={fontFamily:"Montserrat, sans-serif",body1:{fontSize:"1.4rem"},subtitle1:{fontSize:"1.8rem"},subtitle2:{fontSize:"1.6rem"}},g={primary:{main:"#FFF",light:"#C5CAE9",dark:"#303F9F",contrastText:"#FFFFFF"},secondary:{main:"#3F51B5"}};function S(e){var t={breakpoints:h,typography:f,overrides:p,palette:g};return Object(b.a)(Object(u.a)(Object(u.a)({},t),null!==e&&void 0!==e?e:{}))}var x,v,_,P,T,y,w,E,C,R,A,D,F,k,N,z,L,W,U=a(44),I=a(7),H=a.n(I),B=a(14),K=a(24),M=a(59),V=a(60),G=a(20),q=(a(149),a(15)),J=a(29),Q=a.n(J);function X(e){return console.log(e),e.map((function(e){return Object(u.a)(Object(u.a)({},Y(e.photo)),{},{description:e.textDescription})}))}function Y(e){var t,a,n=null!==(t=null===(a=e.formats)||void 0===a?void 0:a.small)&&void 0!==t?t:e.formats.thumbnail;return{photoUrl:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL).concat(n.url),dimensions:{width:n.width,height:n.height}}}var Z,$=(x=function(){function e(){Object(M.a)(this,e),Object(K.a)(this,"token",v,this),Object(K.a)(this,"userData",_,this),Object(K.a)(this,"loginPageText",P,this),Object(K.a)(this,"aboutSergeyPageText",T,this),Object(K.a)(this,"farewellPageContent",y,this),Object(K.a)(this,"russiaPhotos",w,this),Object(K.a)(this,"netherlandsPhotos",E,this),Object(K.a)(this,"belgiumPhotos",C,this),Object(K.a)(this,"fetchLoginPageText",R,this),Object(K.a)(this,"fetchAboutSergeyPageText",A,this),Object(K.a)(this,"fetchFarewellPageContent",D,this),Object(K.a)(this,"fetchRussiaPhotos",F,this),Object(K.a)(this,"fetchNetherlandsPhotos",k,this),Object(K.a)(this,"fetchBelgiumPhotos",N,this),Object(K.a)(this,"setUserToken",z,this),Object(K.a)(this,"registerUser",L,this),Object(K.a)(this,"loginUser",W,this);var t=localStorage.getItem("token"),a=localStorage.getItem("username");t&&a&&(this.userData={token:t,username:a})}return Object(V.a)(e,[{key:"photosFromRussia",get:function(){return this.russiaPhotos?X(this.russiaPhotos):null}},{key:"photosFromNetherlands",get:function(){return this.netherlandsPhotos?X(this.netherlandsPhotos):null}},{key:"photosFromBelgium",get:function(){return this.belgiumPhotos?X(this.belgiumPhotos):null}}]),e}(),v=Object(G.a)(x.prototype,"token",[q.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=Object(G.a)(x.prototype,"userData",[q.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=Object(G.a)(x.prototype,"loginPageText",[q.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=Object(G.a)(x.prototype,"aboutSergeyPageText",[q.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=Object(G.a)(x.prototype,"farewellPageContent",[q.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=Object(G.a)(x.prototype,"russiaPhotos",[q.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=Object(G.a)(x.prototype,"netherlandsPhotos",[q.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=Object(G.a)(x.prototype,"belgiumPhotos",[q.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(G.a)(x.prototype,"photosFromRussia",[q.c],Object.getOwnPropertyDescriptor(x.prototype,"photosFromRussia"),x.prototype),Object(G.a)(x.prototype,"photosFromNetherlands",[q.c],Object.getOwnPropertyDescriptor(x.prototype,"photosFromNetherlands"),x.prototype),Object(G.a)(x.prototype,"photosFromBelgium",[q.c],Object.getOwnPropertyDescriptor(x.prototype,"photosFromBelgium"),x.prototype),R=Object(G.a)(x.prototype,"fetchLoginPageText",[q.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(B.a)(H.a.mark((function t(){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q()({method:"get",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/login-page")});case 2:a=t.sent,e.loginPageText=a.data;case 4:case"end":return t.stop()}}),t)})))}}),A=Object(G.a)(x.prototype,"fetchAboutSergeyPageText",[q.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(B.a)(H.a.mark((function t(){var a,n;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q()({method:"get",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/about-sergey-page"),headers:{Authorization:"Bearer ".concat(null===(a=e.userData)||void 0===a?void 0:a.token)}});case 2:n=t.sent,e.aboutSergeyPageText=n.data;case 4:case"end":return t.stop()}}),t)})))}}),D=Object(G.a)(x.prototype,"fetchFarewellPageContent",[q.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(B.a)(H.a.mark((function t(){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q()({method:"get",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/farewell-page")});case 2:a=t.sent,e.farewellPageContent=Object(u.a)(Object(u.a)({},a.data),{},{photo:Y(a.data.photoBurialPlace)});case 4:case"end":return t.stop()}}),t)})))}}),F=Object(G.a)(x.prototype,"fetchRussiaPhotos",[q.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(B.a)(H.a.mark((function t(){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q()({method:"get",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/russia-photos")});case 2:a=t.sent,e.russiaPhotos=a.data;case 4:case"end":return t.stop()}}),t)})))}}),k=Object(G.a)(x.prototype,"fetchNetherlandsPhotos",[q.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(B.a)(H.a.mark((function t(){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q()({method:"get",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/netherlands-photos")});case 2:a=t.sent,e.netherlandsPhotos=a.data;case 4:case"end":return t.stop()}}),t)})))}}),N=Object(G.a)(x.prototype,"fetchBelgiumPhotos",[q.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(B.a)(H.a.mark((function t(){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q()({method:"get",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/belgium-photos")});case 2:a=t.sent,e.belgiumPhotos=a.data;case 4:case"end":return t.stop()}}),t)})))}}),z=Object(G.a)(x.prototype,"setUserToken",[q.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.token=t,localStorage.setItem("token",t)}}}),L=Object(G.a)(x.prototype,"registerUser",[q.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(B.a)(H.a.mark((function t(a){var n;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q()({method:"post",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/auth/local/register"),data:a});case 2:(n=t.sent).data.jwt&&e.setUserToken(n.data.jwt);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),W=Object(G.a)(x.prototype,"loginUser",[q.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=Object(B.a)(H.a.mark((function e(t,a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("SergeyMemorial"===t.password){e.next=2;break}throw new Error("Invalid password");case 2:localStorage.setItem("isAuthenticated","true"),a.push("/about");case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}}),x),ee=a(4),te={mainStore:new $},ae=Object(r.createContext)(te),ne=function(){return Object(r.useContext)(ae)},re=function(e){var t=e.children;return Object(ee.jsx)(ae.Provider,{value:te,children:t})},oe=a(19),ie=a(17),ce=a(233),se=a(226),le=a(232),ue=a(224),be=a(218),de=Object(be.a)((function(e){var t=e.breakpoints;return{root:Object(j.a)({display:"flex",minHeight:"100vh",fontFamily:"'Marck Script', cursive",position:"relative",color:"white",overflow:"auto"},t.down(t.values.tabLand),{flexDirection:"column",alignItems:"center"}),songContainer:{right:"2rem",top:"2rem",display:"flex",alignItems:"center",cursor:"pointer",fontSize:"2.4rem",position:"absolute"},leftSection:Object(j.a)({width:"50%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},t.down(t.values.tabLand),{width:"100%"}),photo:Object(j.a)({width:"60%",maxHeight:"100%",height:"auto",border:"0.5rem solid black"},t.down(t.values.tabLand),{marginTop:"8rem",width:"50%"}),rightSection:Object(j.a)({width:"50%",display:"flex",flexDirection:"column",justifyContent:"center",padding:"4rem"},t.down(t.values.tabLand),{width:"100%"}),title:Object(j.a)({fontSize:"5rem",color:"white",fontWeight:"bold",marginBottom:"4rem"},t.down(t.values.tabPort),{textAlign:"center"}),info:Object(j.a)({marginLeft:"auto",fontSize:"3rem",marginBottom:"6rem",marginTop:"5rem",color:"white"},t.down(t.values.tabPort),{textAlign:"center"}),loginButtons:Object(j.a)({display:"flex","& > *:first-child":{marginRight:"2rem"}},t.down(t.values.tabPort),{justifyContent:"center"}),modal:{display:"flex",justifyContent:"center",alignItems:"center"},formWrapper:{padding:"2rem",width:"40rem"}}})),he=a.p+"static/media/img.39f37c7c.png",je=a(84),me=Object(be.a)((function(){return{root:{},tabs:{marginBottom:"2rem"},form:{width:"100%",display:"flex",flexDirection:"column","& > *:not(:last-child)":{marginBottom:"2rem"}},buttons:{display:"flex",justifyContent:"space-between",marginTop:"2rem"},alert:{fontSize:"1.4rem"}}})),Oe=a(235),pe=a(234);!function(e){e.Default="DEFAULT",e.Guest="GUEST"}(Z||(Z={}));var fe=function(e){var t=e.type,a=me(),n=ne().mainStore,o=n.registerUser,i=n.loginUser,c=Object(oe.f)(),s=Object(je.a)({defaultValues:{username:"",email:"",password:"",requestDescription:""}}),l=s.register,b=s.handleSubmit,d=s.reset,h=Object(r.useState)(t),j=Object(ie.a)(h,2),m=j[0],O=(j[1],Object(r.useState)(null)),p=Object(ie.a)(O,2),f=p[0],g=p[1],S=Object(r.useState)(null),x=Object(ie.a)(S,2),v=x[0],_=x[1];function P(){return(P=Object(B.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m!==Z.Guest){e.next=17;break}return e.prev=1,e.next=4,o(t);case 4:return e.next=6,Q()({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/send-email-user-registered"),method:"post",data:{username:t.username,email:t.email}});case 6:g(null),_("\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d! \u041e\u0436\u0438\u0434\u0430\u0439\u0442\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"),setTimeout((function(){_(null)}),1e4),d(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),400===e.t0.statusCode?g("\u0422\u0430\u043a\u043e\u0439 email \u0438\u043b\u0438 \u0438\u043c\u044f \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"):g("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437");case 15:e.next=26;break;case 17:return e.prev=17,e.next=20,i({password:t.password,identifier:t.username},c);case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(17),console.error(e.t1,e.t1.message),g("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437");case 26:case"end":return e.stop()}}),e,null,[[1,12],[17,22]])})))).apply(this,arguments)}return Object(ee.jsx)("div",{className:a.root,children:Object(ee.jsxs)("form",{className:a.form,onSubmit:b((function(e){return P.apply(this,arguments)})),onReset:function(){d()},children:[Object(ee.jsx)(Oe.a,Object(u.a)({color:"secondary",label:"\u0418\u043c\u044f \u0424\u0430\u043c\u0438\u043b\u0438\u044f"},l("username"))),Object(ee.jsx)(Oe.a,Object(u.a)({color:"secondary",type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c"},l("password"))),m===Z.Guest&&Object(ee.jsx)(Oe.a,Object(u.a)({color:"secondary",type:"email",label:"Email"},l("email"))),m===Z.Guest&&Object(ee.jsx)(Oe.a,Object(u.a)({color:"secondary",label:"\u0421\u043e\u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e",multiline:!0,minRows:4},l("requestDescription"))),null!==v&&Object(ee.jsx)(pe.a,{className:a.alert,severity:"success",children:v}),null!==f&&Object(ee.jsx)(pe.a,{className:a.alert,severity:"error",children:f}),Object(ee.jsxs)("div",{className:a.buttons,children:[Object(ee.jsx)(se.a,{color:"secondary",type:"submit",variant:"outlined",children:m===Z.Default?"\u0412\u043e\u0439\u0442\u0438":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),Object(ee.jsx)(se.a,{type:"reset",variant:"outlined",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"})]})]})})},ge=a(227),Se=a(228),xe=a(171).default,ve=Object(ce.a)((function(){var e=de(),t=ne().mainStore,a=t.fetchLoginPageText,n=(t.loginPageText,Object(oe.f)()),o=Object(r.useState)(!1),i=Object(ie.a)(o,2),c=i[0],s=i[1],l=Object(r.useState)(Z.Default),u=Object(ie.a)(l,2),b=u[0],d=u[1],h=Object(r.useState)(null),j=Object(ie.a)(h,2),m=j[0],O=j[1],p=Object(r.useState)(!1),f=Object(ie.a)(p,2),g=f[0],S=f[1];Object(r.useEffect)((function(){Object(B.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:case"end":return e.stop()}}),e)})))()}),[]);var x="\u042d\u0442\u043e\u0442 \u0441\u0430\u0439\u0442 \u0441\u043e\u0437\u0434\u0430\u043d \u0434\u043b\u044f \u0442\u0435\u0445, \u043a\u0442\u043e \u0437\u043d\u0430\u043b \u0438 \u043b\u044e\u0431\u0438\u043b \u0421\u0435\u0440\u0433\u0435\u044f, \u043a\u0442\u043e \u0445\u0440\u0430\u043d\u0438\u0442 \u043e \u043d\u0451\u043c \u0434\u043e\u0431\u0440\u0443\u044e \u043f\u0430\u043c\u044f\u0442\u044c \u0438 \u0442\u0435\u043f\u043b\u043e \u0432 \u0441\u0435\u0440\u0434\u0446\u0435.",v="\u0412\u043e\u0439\u0442\u0438",_="\u0412 \u043f\u0430\u043c\u044f\u0442\u044c \u043e \u043d\u0435\u0436\u043d\u043e \u043b\u044e\u0431\u0438\u043c\u043e\u043c \u0441\u044b\u043d\u0435, \u043c\u043b\u0430\u0434\u0448\u0435\u043c \u0431\u0440\u0430\u0442\u0435, \u0432\u0435\u0440\u043d\u043e\u043c \u0434\u0440\u0443\u0433\u0435 \u0438 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e \u0434\u043e\u0431\u0440\u043e\u043c \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0435\u2026.";return Object(ee.jsxs)("div",{className:e.root,children:[Object(ee.jsxs)("div",{className:e.songContainer,onClick:function(){if(m)g?(m.pause(),S(!1)):(m.play(),S(!0));else{var e=new Audio(xe);O(e),e.play(),S(!0)}},children:[g?Object(ee.jsx)(ge.a,{fontSize:"large",color:"primary"}):Object(ee.jsx)(Se.a,{fontSize:"large",color:"primary"}),Object(ee.jsx)("div",{children:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a"})]}),Object(ee.jsx)("div",{className:e.leftSection,children:Object(ee.jsx)("img",{className:e.photo,src:he,alt:"Sergey"})}),Object(ee.jsxs)("div",{className:e.rightSection,children:[Object(ee.jsx)("div",{className:e.title,children:x}),Object(ee.jsx)("div",{className:e.info,children:_}),Object(ee.jsx)("div",{className:e.loginButtons,children:Object(ee.jsx)(se.a,{color:"primary",onClick:function(){"true"!==localStorage.getItem("isAuthenticated")?(s(!0),d(Z.Default)):n.push("/about")},variant:"outlined",children:v})})]}),Object(ee.jsx)(le.a,{className:e.modal,open:c,onClose:function(){s(!1)},children:Object(ee.jsx)(ue.a,{className:e.formWrapper,children:Object(ee.jsx)(fe,{type:b})})})]})})),_e=Object(be.a)((function(e){var t=e.palette,a=e.breakpoints;return{root:{display:"flex",marginBottom:"4rem"},rootMobile:{display:"flex",justifyContent:"center",padding:"2rem"},selectMobile:{width:"100%",marginBottom:"2rem",color:"white",fontSize:"2rem"},tabs:{display:"flex",padding:"2rem",margin:"2rem auto 0 auto",border:"1px dashed white",borderRadius:4,alignItems:"center"},tab:Object(j.a)({textDecoration:"none",marginRight:"4rem",color:"white",fontWeight:"bold",textTransform:"uppercase"},a.down(a.values.tabPort),{textAlign:"center",textTransform:"capitalize",marginRight:"3rem",fontSize:"1.4rem"}),tabSelected:{color:t.primary.main,position:"relative","&::after":{content:"''",width:"90%",height:"0.2rem",textDecoration:"underline",backgroundColor:"white",position:"absolute",top:"100%",left:"5%"}}}})),Pe=a(3),Te=a(231),ye=a(237),we=function(){var e=_e(),t=Object(oe.f)(),a=Object(oe.g)().pathname,n=[{name:"\u041e \u0421\u0435\u0440\u0433\u0435\u0435",path:"/about"},{name:"\u0416\u0438\u0437\u043d\u044c \u0432 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f\u0445",path:"/life-through-photos"},{name:"\u041f\u0440\u043e\u0449\u0430\u043d\u0438\u0435",path:"/farewell"},{name:"\u0412\u043e\u0441\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f",path:"/memories"},{name:"\u0411\u0435\u0437 \u0421\u0435\u0440\u0433\u0435\u044f",path:"/without-sergey"}],o=Object(r.useState)(-1),i=Object(ie.a)(o,2),c=i[0],s=i[1],l=window.innerWidth<600;return Object(r.useEffect)((function(){s(n.findIndex((function(e){return e.path===a})))}),[a]),l?Object(ee.jsx)("div",{className:e.rootMobile,children:Object(ee.jsx)(Te.a,{color:"primary",className:e.selectMobile,value:c,onChange:function(e){s(e.target.value)},children:n.map((function(e,a){var n=e.name,r=e.path;return Object(ee.jsx)(ye.a,{value:a,onClick:function(){return t.push(r)},children:n})}))})}):Object(ee.jsx)("div",{className:e.root,children:Object(ee.jsx)("div",{className:e.tabs,children:n.map((function(t,a){var n=t.name,r=t.path;return Object(ee.jsx)(U.b,{to:r,className:Object(Pe.a)(e.tab,a===c&&e.tabSelected),children:n},n)}))})})},Ee=Object(be.a)((function(e){var t,a=e.breakpoints;return{root:(t={maxWidth:"80%",margin:"0 auto"},Object(j.a)(t,a.down(a.values.phone),{maxWidth:"100%",padding:"0 2rem"}),Object(j.a)(t,a.down(a.values.tabLand),{maxWidth:800}),Object(j.a)(t,a.down(a.values.tabPort),{maxWidth:650}),Object(j.a)(t,a.up(a.values.deskWide),{maxWidth:1320}),t)}})),Ce=function(e){var t=e.children,a=Ee();return Object(ee.jsx)("div",{className:a.root,children:t})},Re=Object(be.a)({root:{whiteSpace:"pre-line",fontSize:"2.7rem",color:"white",fontFamily:"'Marck Script', cursive"},modal:{display:"flex",justifyContent:"center",alignItems:"center"},formWrapper:{padding:"2rem",width:"80%",maxWidth:"80rem"}}),Ae=Object(be.a)({root:{width:"100%"},form:{width:"100%","& > *":{width:"100%","&:not(:last-child)":{marginBottom:"2rem"}}},buttons:{display:"flex",justifyContent:"space-between",marginTop:"4rem"}}),De=a(126),Fe=function(){var e,t=Ae(),a=ne().mainStore.userData,n=Object(je.a)({defaultValues:{username:null!==(e=null===a||void 0===a?void 0:a.username)&&void 0!==e?e:"",files:null,text:""}}),o=n.register,i=n.handleSubmit,c=n.reset,s=n.setValue,l=Object(r.useState)(null),b=Object(ie.a)(l,2),d=b[0],h=b[1],j=Object(r.useState)(null),m=Object(ie.a)(j,2),O=m[0],p=m[1],f=Object(r.useState)(!0),g=Object(ie.a)(f,2),S=g[0],x=g[1];function v(){return(v=Object(B.a)(H.a.mark((function e(t){var n,r,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null,n=[],r=!0,!Array.isArray(t.files)||0===t.files.length){e.next=21;break}return"refId",o=new FormData,t.files.forEach((function(e){o.append("files",e)})),o.append("ref","shared-by-users"),o.append("refId","refId"),o.append("field","media"),e.prev=10,e.next=13,Q()({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/upload"),method:"post",data:o,headers:{Authorization:"Bearer ".concat(null===a||void 0===a?void 0:a.token)}});case 13:e.sent.data.forEach((function(e){return n.push(e.id)})),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(10),r=!1,h("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437");case 21:if(!r){e.next=35;break}return e.prev=22,e.next=25,Q()({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/shared-by-users"),method:"post",data:{name:t.username,text:t.text,media:n},headers:{Authorization:"Bearer ".concat(null===a||void 0===a?void 0:a.token)}});case 25:h(null),p("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e!"),c(),x(!1),setTimeout((function(){p(null)}),5e3),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(22),h("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437");case 35:case"end":return e.stop()}}),e,null,[[10,17],[22,32]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){S||x(!0)}),[S]),Object(ee.jsx)("div",{className:t.root,children:Object(ee.jsxs)("form",{className:t.form,onSubmit:i((function(e){return v.apply(this,arguments)})),onReset:function(){return x(!1),function(){return c()}},children:[Object(ee.jsx)(Oe.a,Object(u.a)({color:"secondary",label:"\u0418\u043c\u044f \u0424\u0430\u043c\u0438\u043b\u0438\u044f"},o("username"))),Object(ee.jsx)(Oe.a,Object(u.a)({color:"secondary",label:"\u041f\u043e\u0441\u043b\u0430\u043d\u0438\u0435",multiline:!0,minRows:8},o("text"))),S&&Object(ee.jsx)(De.a,{onChange:function(e){s("files",e)},dropzoneText:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u044c \u0438\u043b\u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435",filesLimit:5,maxFileSize:10485760,clearOnUnmount:!0}),null!==d&&Object(ee.jsx)(pe.a,{severity:"error",children:d}),null!==O&&Object(ee.jsx)(pe.a,{severity:"success",children:O}),Object(ee.jsxs)("div",{className:t.buttons,children:[Object(ee.jsx)(se.a,{color:"secondary",type:"submit",variant:"outlined",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),Object(ee.jsx)(se.a,{type:"reset",variant:"outlined",children:"\u0421\u0442\u0435\u0440\u0435\u0442\u044c"})]})]})})},ke=Object(ce.a)((function(){var e=Re(),t=ne().mainStore,a=(t.aboutSergeyPageText,t.fetchAboutSergeyPageText,Object(oe.f)(),Object(r.useState)(!1)),n=Object(ie.a)(a,2),o=n[0],i=n[1];return Object(ee.jsxs)("div",{className:e.root,children:[Object(ee.jsx)("div",{children:"\n    \u0415\u0441\u043b\u0438 \u0432\u044b \u0441\u0435\u0439\u0447\u0430\u0441 \u043d\u0430 \u044d\u0442\u043e\u043c \u0441\u0430\u0439\u0442\u0435, \u0437\u043d\u0430\u0447\u0438\u0442 \u0432\u044b \u0437\u043d\u0430\u043b\u0438 \u0421\u0435\u0440\u0451\u0436\u0443 \u0438 \u043f\u043e\u043c\u043d\u0438\u0442\u0435 \u043e \u043d\u0451\u043c.\n    \u0421\u0435\u0440\u0451\u0436\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435\u0442 \u0441 \u043d\u0430\u043c\u0438\u2026\n    \u0415\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u044e \u0447\u0442\u043e \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u2013 \u044d\u0442\u043e \u043f\u0430\u043c\u044f\u0442\u044c \u043e \u043d\u0451\u043c.\n    \u0421\u0435\u0440\u0435\u0436\u0430 \u043d\u0435 \u043b\u044e\u0431\u0438\u043b \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f, \u043f\u043e\u0447\u0442\u0438 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439, \u0438 \u043d\u0435\n    \u043b\u044e\u0431\u0438\u043b \u0433\u043e\u0432\u043e\u0440\u0438\u0442\u044c \u043e \u0441\u0435\u0431\u0435.\n    \u041d\u0430 \u044d\u0442\u043e\u043c \u0441\u0430\u0439\u0442\u0435 \u043c\u044b, \u0435\u0433\u043e \u043c\u0430\u043c\u0430 \u0438 \u0441\u0435\u0441\u0442\u0440\u0430, \u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0435\u043c \u0432\u0430\u043c \u043e \u0442\u043e\u043c, \u043a\u0430\u043a\u0438\u043c \u0435\u0433\u043e \u0437\u043d\u0430\u0435\u043c \u043c\u044b \u0438 \u043f\u0440\u043e\u0441\u0438\u043c \u0432\u0430\u0441\n    \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441 \u043d\u0430\u043c\u0438 \u0432\u0430\u0448\u0438\u043c\u0438 \u0432\u043e\u0441\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f\u043c\u0438 \u043e \u0421\u0435\u0440\u0451\u0436\u0435, \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f\u043c\u0438, \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u044b\u043c\u0438\n    \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c\u0438, \u0432\u0438\u0434\u0435\u043e.\n    \u0421\u043f\u0430\u0441\u0438\u0431\u043e,\n    \u041c\u0430\u043c\u0430 \u041d\u0430\u0442\u0430\u043b\u044c\u044f \u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432\u043d\u0430 \u0438 \u0441\u0435\u0441\u0442\u0440\u0430 \u0422\u0430\u0442\u044c\u044f\u043d\u0430\n  "}),Object(ee.jsx)("div",{style:{marginTop:"4rem"},children:Object(ee.jsx)(le.a,{className:e.modal,open:o,onClose:function(){i(!1)},children:Object(ee.jsx)(ue.a,{className:e.formWrapper,children:Object(ee.jsx)(Fe,{})})})})]})})),Ne=function(){return Object(ee.jsx)(ue.a,{style:{padding:"2rem"},children:"\u0414\u0430\u043d\u043d\u044b\u0439 \u0440\u0430\u0437\u0434\u0435\u043b \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c"})},ze=Object(ce.a)((function(){var e=Object(oe.g)().pathname,t=Object(oe.f)(),a=ne().mainStore.userData;return Object(r.useEffect)((function(){a&&"/"===e&&t.push("/about")}),[]),Object(ee.jsxs)(ee.Fragment,{children:["/"!==e&&Object(ee.jsx)(we,{}),Object(ee.jsxs)(oe.c,{children:[Object(ee.jsx)(oe.a,{path:"/",exact:!0,children:Object(ee.jsx)(ve,{})}),Object(ee.jsx)(oe.a,{path:"/about",exact:!0,children:Object(ee.jsx)(Ce,{children:Object(ee.jsx)(ke,{})})}),Object(ee.jsx)(oe.a,{path:"/life-through-photos",exact:!0,children:Object(ee.jsx)(Ce,{children:Object(ee.jsx)(Ne,{})})}),Object(ee.jsx)(oe.a,{path:"/farewell",exact:!0,children:Object(ee.jsx)(Ce,{children:Object(ee.jsx)(Ne,{})})}),Object(ee.jsx)(oe.a,{path:"/memories",exact:!0,children:Object(ee.jsx)(Ce,{children:Object(ee.jsx)(Ne,{})})}),Object(ee.jsx)(oe.a,{path:"/without-sergey",exact:!0,children:Object(ee.jsx)(Ce,{children:Object(ee.jsx)(Ne,{})})})]})]})})),Le=function(){return Object(ee.jsx)(U.a,{children:Object(ee.jsxs)(s.a,{theme:S(),children:[Object(ee.jsx)(l.a,{}),Object(ee.jsx)(re,{children:Object(ee.jsx)(ze,{})})]})})},We=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,238)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)}))};c.a.render(Object(ee.jsx)(o.a.StrictMode,{children:Object(ee.jsx)(Le,{})}),document.getElementById("root")),We()}},[[179,1,2]]]);
//# sourceMappingURL=main.cb698a51.chunk.js.map